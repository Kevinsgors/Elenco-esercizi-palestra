<form class="form" (ngSubmit)="saveExercise()">
  <div class="field">
    <label>Nome esercizio*</label>
    <input type="text" [(ngModel)]="newExercise.name" name="name" placeholder="Es. Panca Piana" required />
  </div>

  <div class="field">
    <label>Gruppo muscolare*</label>
    <app-fancy-select
      name="muscleGroup"
      placeholder="Seleziona..."
      [options]="muscleGroupOptions"
      [emptyValue]="''"
      [allowReset]="false"
      [(ngModel)]="newExercise.muscleGroup"
      aria-label="Gruppo muscolare"
    ></app-fancy-select>
  </div>

  <div class="grid">
    <div class="field">
      <label>Serie*</label>
      <input type="number" [(ngModel)]="newExercise.sets" name="sets" min="1" required />
    </div>
    <div class="field">
      <label>Reps*</label>
      <input type="number" [(ngModel)]="newExercise.reps" name="reps" min="1" required />
    </div>
    <div class="field">
      <label>Peso (Kg)</label>
      <input type="number" [(ngModel)]="newExercise.weightKg" name="weightKg" min="0" />
    </div>
  </div>

  <div class="field">
    <label>Note</label>
    <textarea [(ngModel)]="newExercise.notes" name="notes" rows="2" placeholder="Eventuali indicazioni"></textarea>
  </div>

  @if (validationError) {
    <p class="error-msg">{{ validationError }}</p>
  }

  <div class="actions">
    <button type="submit" [disabled]="!isValid()">Salva esercizio</button>
  </div>
</form>
